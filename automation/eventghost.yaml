##########################################
########## Eventghost MQTT Subs ##########
##########################################

  - alias: 'Toggle av_power'
    trigger:
      - platform: mqtt
        topic: device/eventghost/av_power
        payload: "toggle"
    action:
      - service: switch.toggle
        entity_id: switch.av_power_switch
      ## Toggles off lights if after 12pm
      - condition: time
        after: "00:00:00"
      - condition: sun
        before: sunrise
      - service: script.breathe_light
        data:
          breathe_color: "red"
          entity_id: group.all_lights
      - delay: "00:00:02"
      - service: light.turn_off
        entity_id: group.ambient_lights
      - delay: "00:00:05"
      - service: scene.turn_on
        entity_id: scene.10m_off

  - alias: 'Toggle Lights'
    trigger:
      - platform: mqtt
        topic: device/eventghost/all_lights
        payload: "toggle"
    action:
      - service: script.breathe_light
        data:
          breathe_color: "red"
          entity_id: group.all_lights
      - delay: "00:00:01"
      - service: light.turn_off
        entity_id: group.ambient_lights
      - delay: "00:00:05"
      - service: scene.turn_on
        entity_id: scene.10m_off

  - alias: 'Toggle tv_power'
    trigger:
      - platform: mqtt
        topic: device/eventghost/tv_power
        payload: "toggle"
    action:
      - service: switch.toggle
        entity_id: switch.tv_power_switch
      - service: script.flash_light
        data:
          flash_color: "cyan"
          entity_id: group.tv_lights

  - alias: 'Toggle Chromecast Play/Pause'
    trigger:
      - platform: mqtt
        topic: device/eventghost/play_pause
        payload: "toggle"
    action:
      - service: media_player.media_play_pause
        entity_id: media_player.vtv_chromecast
      - service: script.flash_light
        data:
          flash_color: "cyan"
          entity_id: group.tv_lights

  - alias: 'Toggle Chromecast Prev'
    trigger:
      - platform: mqtt
        topic: device/eventghost/prev
        payload: "1"
    action:
      - service: media_player.media_previous_track
        entity_id: media_player.vtv_chromecast
      - service: script.flash_light
        data:
          flash_color: "cyan"
          entity_id: group.tv_lights

  - alias: 'Toggle Chromecast Next'
    trigger:
      - platform: mqtt
        topic: device/eventghost/next
        payload: "1"
    action:
      - service: media_player.media_next_track
        entity_id: media_player.vtv_chromecast
      - service: script.flash_light
        data:
          flash_color: "cyan"
          entity_id: group.tv_lights

  - alias: 'Flash Cyan'
    trigger:
      - platform: mqtt
        topic: device/hass/breathe_light
        payload: "1"
    action:
      - service: script.flash_light
        data:
          flash_color: "cyan"
          entity_id: group.tv_lights
##########################################
########## Eventghost Buttons ############
##########################################
  - alias: 'Button'
    trigger:
    - platform: mqtt
      topic: device/eventghost/button
    action:
    - service: script.eventghost_button
      data_template:
        button: '{{ trigger.payload }}'

  - alias: 'Button_Long'
    trigger:
    - platform: mqtt
      topic: device/eventghost/button_long
    action:
    - service: script.eventghost_button_long
      data_template:
        button: '{{ trigger.payload }}'
